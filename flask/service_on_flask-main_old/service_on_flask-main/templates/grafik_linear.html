<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
 <!-- кастомные стили -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <title>График 2022</title>
{% include 'menu.html' %}
     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="container-fluid" style="white-space: pre-wrap;  width: 100%;" align="center"  >
<table class="main-table" width="100%">
            <tr class="table-string"  >
                <td class="content-table table-item" width="100%" align="center">
                    <div style="height: 80vh; width: 100%;">
                        <canvas id="myChart"></canvas>
                    </div>
    <script>
        const labels = {{ labels | tojson}};

        const data = {
            labels: labels,
        datasets: [
            {
              label: 'FTTX 2021й год',
              backgroundColor: 'rgb(255, 146, 24)',
              borderColor: 'rgb(255, 146, 24)',
              data: {{ data_0 | tojson}}
            },
            {
              label: 'FTTX 2022й год',
              backgroundColor: 'rgb(255, 99, 132)',
              borderColor: 'rgb(255, 99, 132)',
              data: {{ data_1 | tojson}}
            },
            {
              label: 'FTTX 2023й год',
              backgroundColor: 'rgb(24, 49, 255)',
              borderColor: 'rgb(24, 49, 255)',
              data: {{ data_2 | tojson}}
            },
            {
              label: 'FTTX 2024й год',
              backgroundColor: 'rgb(167, 252, 0)',
              borderColor: 'rgb(167, 252, 0)',
              data: {{ data_3 | tojson}}
            }
                      ]
          };
        const config = {
            type: 'line',
            data: data,
            options: {
                responsive: true,
                plugins: {
            legend: {
                position: 'top',
                     },
            title: {
                display: true,
                text: 'FTTX по годам, линейный график'
              }
             }
           },
          };
        const myChart = new Chart(
            document.getElementById('myChart'),
            config
        );
        </script>
                </td>
            </tr>
        </table>
    </div>
<div class="container-fluid" style="white-space: pre-wrap">
     <table class="main-table" id="main-table">
            <tr class="table-string"  >
                <td class="content-table table-item" width="70%">{{ greet | safe }} </td>
            </tr>
        </table>
    </div>
</body>
</html>